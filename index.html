<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sistem Manajemen Gudang ATK</title>
  <link rel="stylesheet" href="styles.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
  <!-- Login -->
  <div id="login-page" class="page active">
    <div class="login-container">
      <div class="login-card">
        <div class="login-header">
          <div class="logo">
            <i data-feather="package"></i>
            <span>SMG-ATK</span>
          </div>
          <h1>Selamat Datang Kembali!</h1>
          <p>Masuk ke sistem manajemen gudang Anda</p>
        </div>
        <form id="login-form" class="login-form">
          <div class="input-group">
            <label>Username</label>
            <input type="text" id="login-username" placeholder="Masukkan username" required />
            <i data-feather="user" class="input-icon"></i>
          </div>
          <div class="input-group">
            <label>Password</label>
            <input type="password" id="login-password" placeholder="Masukkan password" required />
            <i data-feather="lock" class="input-icon"></i>
          </div>
          <button type="submit" class="btn btn-primary">
            <span>Masuk</span>
            <i data-feather="arrow-right"></i>
          </button>
        </form>
        <div class="login-demo">
          <h4>Akun Demo:</h4>
          <div class="demo-accounts">
            <span class="demo-badge">admin/admin123</span>
            <span class="demo-badge">staf/staf123</span>
            <span class="demo-badge">manajer/manajer123</span>
            <span class="demo-badge">produksi/produksi123</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- App -->
  <div id="app" class="page">
    <!-- Sidebar -->
    <nav class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <i data-feather="package"></i>
          <span>SMG-ATK</span>
        </div>
      </div>

      <div class="sidebar-content">
        <div class="nav-section">
          <h3>Utama</h3>
          <ul id="menu" class="nav-menu">
            <li data-target="dashboard" class="nav-item">
              <i data-feather="home"></i>
              <span>Dashboard</span>
            </li>
            <li class="role-admin role-manajer nav-item" data-target="laporan">
              <i data-feather="file-text"></i>
              <span>Laporan</span>
            </li>
          </ul>
        </div>

        <div class="nav-section role-admin">
          <h3>Master Data</h3>
          <ul class="nav-menu">
            <li data-target="master-barang" class="nav-item">
              <i data-feather="box"></i>
              <span>Master Barang</span>
            </li>
            <li data-target="master-kategori" class="nav-item">
              <i data-feather="tag"></i>
              <span>Kategori</span>
            </li>
            <li data-target="master-pengguna" class="nav-item">
              <i data-feather="users"></i>
              <span>Pengguna</span>
            </li>
          </ul>
        </div>

        <div class="nav-section role-staf">
          <h3>Transaksi</h3>
          <ul class="nav-menu">
            <li data-target="transaksi-masuk" class="nav-item">
              <i data-feather="plus-circle"></i>
              <span>Barang Masuk</span>
            </li>
            <li data-target="transaksi-keluar" class="nav-item">
              <i data-feather="minus-circle"></i>
              <span>Barang Keluar</span>
            </li>
          </ul>
        </div>

        <div class="nav-section role-manajer">
          <h3>Verifikasi</h3>
          <ul class="nav-menu">
            <li data-target="verifikasi" class="nav-item">
              <i data-feather="check-circle"></i>
              <span>Verifikasi</span>
            </li>
          </ul>
        </div>

        <div class="nav-section role-produksi">
          <h3>Produksi</h3>
          <ul class="nav-menu">
            <li data-target="produksi" class="nav-item">
              <i data-feather="settings"></i>
              <span>Ketersediaan</span>
            </li>
          </ul>
        </div>

        <div class="nav-section">
          <h3>Riwayat</h3>
          <ul class="nav-menu">
            <li data-target="riwayat" class="nav-item">
              <i data-feather="clock"></i>
              <span>Riwayat</span>
            </li>
          </ul>
        </div>
      </div>

      <div class="sidebar-footer">
        <div class="user-info">
          <div class="user-avatar">
            <i data-feather="user"></i>
          </div>
          <div class="user-details">
            <span id="user-name" class="user-name">User</span>
            <span id="user-role" class="user-role">Role</span>
          </div>
          <button id="btn-logout" class="logout-btn" title="Keluar">
            <i data-feather="log-out"></i>
          </button>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="topbar">
        <div class="topbar-left">
          <h1 id="page-title">Dashboard</h1>
        </div>
        <div class="topbar-right">
          <div id="notif-bell" class="notification-btn" title="Notifikasi">
            <i data-feather="bell"></i>
            <span id="notif-count" class="notif-badge">0</span>
          </div>
        </div>
      </header>

      <!-- Content Area -->
      <div class="content">
        <!-- Dashboard -->
        <section id="dashboard" class="view active">
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon primary">
                <i data-feather="package"></i>
              </div>
              <div class="stat-content">
                <h3>Total Item</h3>
                <div id="stat-total-item" class="stat-number">0</div>
                <span class="stat-label">Barang terdaftar</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon success">
                <i data-feather="layers"></i>
              </div>
              <div class="stat-content">
                <h3>Stok Bahan Baku</h3>
                <div id="stat-stok-baku" class="stat-number">0</div>
                <span class="stat-label">Unit tersedia</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon info">
                <i data-feather="archive"></i>
              </div>
              <div class="stat-content">
                <h3>Stok Barang Jadi</h3>
                <div id="stat-stok-jadi" class="stat-number">0</div>
                <span class="stat-label">Unit tersedia</span>
              </div>
            </div>
            <div class="stat-card warn">
              <div class="stat-icon warning">
                <i data-feather="alert-triangle"></i>
              </div>
              <div class="stat-content">
                <h3>Stok Menipis</h3>
                <div id="stat-low-stock" class="stat-number">0</div>
                <span class="stat-label">Perlu perhatian</span>
              </div>
            </div>
          </div>

          <div class="chart-container">
            <div class="chart-header">
              <h3><i data-feather="trending-up"></i> Grafik Stok</h3>
              <span class="chart-subtitle">Visualisasi stok barang</span>
            </div>
            <div class="chart-content">
              <canvas id="mini-chart" width="800" height="300"></canvas>
            </div>
          </div>
        </section>

        <!-- Laporan -->
        <section id="laporan" class="view">
          <div class="page-header">
            <h2><i data-feather="file-text"></i> Laporan Inventori</h2>
            <div class="page-actions">
              <button id="btn-export-csv" class="btn btn-success">
                <i data-feather="download"></i>
                Export CSV
              </button>
              <button id="btn-export-json" class="btn btn-secondary">
                <i data-feather="download"></i>
                Export JSON
              </button>
            </div>
          </div>
          <div class="table-container">
            <table id="table-laporan" class="data-table">
              <thead>
                <tr>
                  <th>Kode</th><th>Nama</th><th>Kategori</th><th>Tipe</th><th>Stok</th><th>Min</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Master Barang -->
        <section id="master-barang" class="view">
          <div class="page-header">
            <h2><i data-feather="box"></i> Master Barang</h2>
          </div>
          
          <div class="form-container">
            <form id="form-barang" class="form-modern">
              <input type="hidden" id="barang-id"/>
              <div class="form-row">
                <div class="input-group">
                  <label>Kode Barang</label>
                  <input id="barang-kode" placeholder="Contoh: BB-PLS-01" required />
                </div>
                <div class="input-group">
                  <label>Nama Barang</label>
                  <input id="barang-nama" placeholder="Nama barang" required />
                </div>
              </div>
              <div class="form-row">
                <div class="input-group">
                  <label>Kategori</label>
                  <select id="barang-kategori" required></select>
                </div>
                <div class="input-group">
                  <label>Tipe</label>
                  <select id="barang-tipe" required>
                    <option value="BAHAN_BAKU">Bahan Baku</option>
                    <option value="BARANG_JADI">Barang Jadi</option>
                  </select>
                </div>
              </div>
              <div class="form-row">
                <div class="input-group">
                  <label>Stok Minimum</label>
                  <input id="barang-min" type="number" min="0" value="0" required />
                </div>
                <div class="input-group">
                  <label>Barcode/QR</label>
                  <input id="barang-barcode" placeholder="Opsional"/>
                </div>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                  <i data-feather="save"></i>
                  Simpan
                </button>
                <button type="button" id="barang-reset" class="btn btn-secondary">
                  <i data-feather="refresh-cw"></i>
                  Reset
                </button>
              </div>
            </form>
          </div>

          <div class="table-container">
            <div class="table-header">
              <div class="search-container">
                <i data-feather="search" class="search-icon"></i>
                <input id="barang-cari" placeholder="Cari nama atau kode barang..." class="search-input" />
              </div>
            </div>
            <table id="table-barang" class="data-table">
              <thead>
                <tr>
                  <th>Kode</th><th>Nama</th><th>Kategori</th><th>Tipe</th><th>Stok</th><th>Min</th><th>Aksi</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Master Kategori -->
        <section id="master-kategori" class="view">
          <div class="page-header">
            <h2><i data-feather="tag"></i> Master Kategori</h2>
          </div>
          <div class="form-container">
            <form id="form-kategori" class="form-inline-modern">
              <input type="hidden" id="kategori-id"/>
              <div class="input-group">
                <input id="kategori-nama" placeholder="Nama kategori" required />
              </div>
              <button type="submit" class="btn btn-primary">
                <i data-feather="plus"></i>
                Simpan
              </button>
              <button type="button" id="kategori-reset" class="btn btn-secondary">
                <i data-feather="x"></i>
                Reset
              </button>
            </form>
          </div>
          <div class="list-container">
            <ul id="list-kategori" class="category-list"></ul>
          </div>
        </section>

        <!-- Master Pengguna -->
        <section id="master-pengguna" class="view">
          <div class="page-header">
            <h2><i data-feather="users"></i> Pengguna</h2>
          </div>
          <div class="form-container">
            <form id="form-user" class="form-modern">
              <input type="hidden" id="user-id"/>
              <div class="form-row">
                <div class="input-group">
                  <label>Username</label>
                  <input id="user-username" placeholder="Username unik" required />
                </div>
                <div class="input-group">
                  <label>Nama Lengkap</label>
                  <input id="user-nama" placeholder="Nama lengkap" required />
                </div>
              </div>
              <div class="form-row">
                <div class="input-group">
                  <label>Peran</label>
                  <select id="user-role" required>
                    <option value="ADMIN">Admin Gudang</option>
                    <option value="STAF">Staf Gudang</option>
                    <option value="MANAJER">Manajer Gudang</option>
                    <option value="PRODUKSI">Manajer Produksi</option>
                  </select>
                </div>
                <div class="input-group">
                  <label>Password</label>
                  <input id="user-password" type="password" placeholder="Password" required />
                </div>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                  <i data-feather="user-plus"></i>
                  Simpan
                </button>
                <button type="button" id="user-reset" class="btn btn-secondary">
                  <i data-feather="refresh-cw"></i>
                  Reset
                </button>
              </div>
            </form>
          </div>
          <div class="table-container">
            <table id="table-user" class="data-table">
              <thead>
                <tr><th>Username</th><th>Nama</th><th>Peran</th><th>Aksi</th></tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Transaksi Masuk -->
        <section id="transaksi-masuk" class="view">
          <div class="page-header">
            <h2><i data-feather="plus-circle"></i> Barang Masuk</h2>
          </div>
          <div class="form-container">
            <form id="form-masuk" class="form-modern">
              <div class="form-row">
                <div class="input-group">
                  <label>Tanggal</label>
                  <input id="masuk-tgl" type="date" required />
                </div>
                <div class="input-group">
                  <label>Barang</label>
                  <select id="masuk-barang" required></select>
                </div>
              </div>
              <div class="form-row">
                <div class="input-group">
                  <label>Jumlah</label>
                  <input id="masuk-qty" type="number" min="1" placeholder="Jumlah barang" required />
                </div>
                <div class="input-group">
                  <label>Batch/Serial</label>
                  <input id="masuk-batch" placeholder="Contoh: BATCH-001"/>
                </div>
              </div>
              <div class="form-row">
                <div class="input-group full-width">
                  <label>Sumber/Pemasok</label>
                  <input id="masuk-sumber" placeholder="Nama pemasok"/>
                </div>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn btn-success">
                  <i data-feather="plus"></i>
                  Catat Masuk
                </button>
              </div>
            </form>
          </div>
        </section>

        <!-- Transaksi Keluar -->
        <section id="transaksi-keluar" class="view">
          <div class="page-header">
            <h2><i data-feather="minus-circle"></i> Barang Keluar</h2>
          </div>
          <div class="form-container">
            <form id="form-keluar" class="form-modern">
              <div class="form-row">
                <div class="input-group">
                  <label>Tanggal</label>
                  <input id="keluar-tgl" type="date" required />
                </div>
                <div class="input-group">
                  <label>Barang</label>
                  <select id="keluar-barang" required></select>
                </div>
              </div>
              <div class="form-row">
                <div class="input-group">
                  <label>Jumlah</label>
                  <input id="keluar-qty" type="number" min="1" placeholder="Jumlah barang" required />
                </div>
                <div class="input-group">
                  <label>Batch/Serial</label>
                  <input id="keluar-batch" placeholder="Opsional"/>
                </div>
              </div>
              <div class="form-row">
                <div class="input-group full-width">
                  <label>Tujuan</label>
                  <select id="keluar-tujuan" required>
                    <option value="PRODUKSI">Produksi</option>
                    <option value="DISTRIBUSI">Distribusi</option>
                  </select>
                </div>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn btn-warning">
                  <i data-feather="minus"></i>
                  Catat Keluar
                </button>
              </div>
            </form>
          </div>
        </section>

        <!-- Verifikasi -->
        <section id="verifikasi" class="view">
          <div class="page-header">
            <h2><i data-feather="check-circle"></i> Verifikasi Transaksi</h2>
          </div>
          <div class="table-container">
            <table id="table-verifikasi" class="data-table">
              <thead>
                <tr><th>Tanggal</th><th>Jenis</th><th>Barang</th><th>Qty</th><th>Batch</th><th>Oleh</th><th>Aksi</th></tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Produksi -->
        <section id="produksi" class="view">
          <div class="page-header">
            <h2><i data-feather="settings"></i> Ketersediaan Bahan Produksi</h2>
          </div>
          <div class="table-container">
            <table id="table-produksi" class="data-table">
              <thead>
                <tr><th>Kode</th><th>Nama</th><th>Stok</th><th>Min</th><th>Status</th></tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Riwayat -->
        <section id="riwayat" class="view">
          <div class="page-header">
            <h2><i data-feather="clock"></i> Riwayat Transaksi</h2>
          </div>
          <div class="table-container">
            <div class="table-header">
              <div class="filter-container">
                <select id="riwayat-filter" class="filter-select">
                  <option value="ALL">Semua</option>
                  <option value="MASUK">Barang Masuk</option>
                  <option value="KELUAR">Barang Keluar</option>
                </select>
              </div>
              <div class="search-container">
                <i data-feather="search" class="search-icon"></i>
                <input id="riwayat-cari" placeholder="Cari barang/batch/oleh..." class="search-input" />
              </div>
            </div>
            <table id="table-riwayat" class="data-table">
              <thead>
                <tr><th>Tanggal</th><th>Jenis</th><th>Barang</th><th>Qty</th><th>Batch</th><th>Info</th><th>Status</th></tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>
      </div>
    </main>
  </div>

  <script src="app.js"></script>
  <script>
    // Initialize Feather Icons
    document.addEventListener('DOMContentLoaded', function() {
      feather.replace();
    });
  </script>
</body>
</html>